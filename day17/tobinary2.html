<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>十进制转二进制2</title>
	</head>
	<body>
		<input id="dec-number" type="number" placeholder="输入一个十进制非负整数">
		 <input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
		<button id="trans-btn">转化为二进制</button>
		<p id="result">运算结果</p>
		<script>
		
		let btn = document.querySelector("#trans-btn");
		btn.addEventListener("click",function(){
		let dec = document.querySelector("#dec-number").value
		let decNum = Number(dec);
		let bit = document.querySelector("#bin-bit").value
		let binbit = Number( bit);
		let result = document.querySelector("#result");
			result.innerHTML = dec2bin(decNum,binbit);
		});
		function dec2bin(decNumber,binBit) {
		    try {
		        if (decNumber < 0) {
		            throw "必须为非负整数";
		        }
		    } catch (error) {          
		            return "Error:" + error;
		        }
		    let temp = 0;
		    let arr = new Array();
		    while (decNumber > 0) {
		        temp = decNumber % 2;
		        decNumber = (decNumber - temp)/2
				arr.push(temp);
		    }
		    let count = arr.length;
			if(count <= binBit){
				while(count < binBit){
					arr.push(0);
					count++;
				}
			}else{
				console.log("输入的位数太小");
			}
			
			binary = arr.reverse().join("");
			console.log(binary.length);
			return binary;
		}      
		
		</script>
	</body>
</html>
